snapshot = {'name': 'magnet',
            'parameters': {
                'IDN': {'value': {'vendor': 'AMERICAN MAGNETICS INC.', 'model': '430', 'serial': '180046',
                                  'firmware': '2.55'},
                        'ts': '2019-05-22 14:55:24',
                        'raw_value': {'vendor': 'AMERICAN MAGNETICS INC.', 'model': '430', 'serial': '180046',
                                      'firmware': '2.55'},
                        '__class__': 'qcodes.instrument.parameter.Parameter',
                        'full_name': 'AMI430InstrumentAdapter_192.168.1.128:7180_IDN',
                        'instrument': 'qcodes.instrument_drivers.american_magnetics.AMI430.AMI430',
                        'instrument_name': 'AMI430InstrumentAdapter_192.168.1.128:7180', 'label': 'IDN', 'name': 'IDN',
                        'vals': '<Anything>', 'unit': '', 'inter_delay': 0, 'post_delay': 0},
                'ramp_rate_units': {'value': 'minutes', 'ts': '2019-05-22 14:55:24', 'raw_value': '1\r\n',
                                    '__class__': 'qcodes.instrument.parameter.Parameter',
                                    'full_name': 'AMI430InstrumentAdapter_192.168.1.128:7180_ramp_rate_units',
                                    'instrument': 'qcodes.instrument_drivers.american_magnetics.AMI430.AMI430',
                                    'instrument_name': 'AMI430InstrumentAdapter_192.168.1.128:7180',
                                    'label': 'ramp_rate_units',
                                    'name': 'ramp_rate_units', 'vals': "<Enum: {'minutes', 'seconds'}>", 'unit': '',
                                    'val_mapping': {'seconds': 0, 'minutes': 1}, 'inter_delay': 0, 'post_delay': 0},
                'field_units': {'value': 'tesla', 'ts': '2019-05-22 14:55:24', 'raw_value': '1\r\n',
                                '__class__': 'qcodes.instrument.parameter.Parameter',
                                'full_name': 'AMI430InstrumentAdapter_192.168.1.128:7180_field_units',
                                'instrument': 'qcodes.instrument_drivers.american_magnetics.AMI430.AMI430',
                                'instrument_name': 'AMI430InstrumentAdapter_192.168.1.128:7180', 'label': 'field_units',
                                'name': 'field_units', 'vals': "<Enum: {'tesla', 'kilogauss'}>", 'unit': '',
                                'val_mapping': {'kilogauss': 0, 'tesla': 1}, 'inter_delay': 0, 'post_delay': 0},
                'current_ramp_limit': {'value': 3.6, 'ts': '2019-05-22 14:55:24', 'raw_value': 0.06,
                                       '__class__': 'qcodes.instrument.parameter.Parameter',
                                       'full_name': 'AMI430InstrumentAdapter_192.168.1.128:7180_current_ramp_limit',
                                       'instrument': 'qcodes.instrument_drivers.american_magnetics.AMI430.AMI430',
                                       'instrument_name': 'AMI430InstrumentAdapter_192.168.1.128:7180',
                                       'label': 'current_ramp_limit', 'scale': 0.016666666666666666,
                                       'name': 'current_ramp_limit',
                                       'unit': 'A/min', 'inter_delay': 0, 'post_delay': 0},
                'field_ramp_limit': {'value': 0.1497888, 'ts': '2019-05-22 14:55:24', 'raw_value': 3.6,
                                     '__class__': 'qcodes.instrument.parameter.Parameter',
                                     'full_name': 'AMI430InstrumentAdapter_192.168.1.128:7180_field_ramp_limit',
                                     'instrument': 'qcodes.instrument_drivers.american_magnetics.AMI430.AMI430',
                                     'instrument_name': 'AMI430InstrumentAdapter_192.168.1.128:7180',
                                     'label': 'field_ramp_limit',
                                     'scale': 24.03383964622188, 'name': 'field_ramp_limit', 'unit': 'T/min',
                                     'inter_delay': 0,
                                     'post_delay': 0},
                'coil_constant': {'value': 0.041608, 'ts': '2019-05-22 14:55:24', 'raw_value': 0.041608,
                                  '__class__': 'qcodes.instrument.parameter.Parameter',
                                  'full_name': 'AMI430InstrumentAdapter_192.168.1.128:7180_coil_constant',
                                  'instrument': 'qcodes.instrument_drivers.american_magnetics.AMI430.AMI430',
                                  'instrument_name': 'AMI430InstrumentAdapter_192.168.1.128:7180',
                                  'label': 'coil_constant',
                                  'name': 'coil_constant', 'vals': '<Numbers 0.001<=v<=999.99999>', 'unit': 'T/A',
                                  'inter_delay': 0,
                                  'post_delay': 0},
                'current_limit': {'value': 72.102, 'ts': '2019-05-22 14:55:24', 'raw_value': '72.102\r\n',
                                  '__class__': 'qcodes.instrument.parameter.Parameter',
                                  'full_name': 'AMI430InstrumentAdapter_192.168.1.128:7180_current_limit',
                                  'instrument': 'qcodes.instrument_drivers.american_magnetics.AMI430.AMI430',
                                  'instrument_name': 'AMI430InstrumentAdapter_192.168.1.128:7180',
                                  'label': 'current_limit',
                                  'name': 'current_limit', 'vals': '<Numbers 0<=v<=80>', 'unit': 'A', 'inter_delay': 0,
                                  'post_delay': 0},
                'field_limit': {'value': 3.000020016, 'ts': '2019-05-22 14:55:24', 'raw_value': 72.102,
                                '__class__': 'qcodes.instrument.parameter.Parameter',
                                'full_name': 'AMI430InstrumentAdapter_192.168.1.128:7180_field_limit',
                                'instrument': 'qcodes.instrument_drivers.american_magnetics.AMI430.AMI430',
                                'instrument_name': 'AMI430InstrumentAdapter_192.168.1.128:7180', 'label': 'field_limit',
                                'scale': 24.03383964622188, 'name': 'field_limit', 'unit': 'T', 'inter_delay': 0,
                                'post_delay': 0},
                'field': {'value': -0.0001205, 'ts': '2019-05-22 14:55:24', 'raw_value': '-0.0001205\r\n',
                          '__class__': 'qcodes.instrument.parameter.Parameter',
                          'full_name': 'AMI430InstrumentAdapter_192.168.1.128:7180_field',
                          'instrument': 'qcodes.instrument_drivers.american_magnetics.AMI430.AMI430',
                          'instrument_name': 'AMI430InstrumentAdapter_192.168.1.128:7180', 'label': 'field',
                          'name': 'field',
                          'unit': 'T', 'inter_delay': 0, 'post_delay': 0},
                'ramp_rate': {'value': 0.05, 'ts': '2019-05-22 14:55:24', 'raw_value': 0.05,
                              '__class__': 'qcodes.instrument.parameter.Parameter',
                              'full_name': 'AMI430InstrumentAdapter_192.168.1.128:7180_ramp_rate',
                              'instrument': 'qcodes.instrument_drivers.american_magnetics.AMI430.AMI430',
                              'instrument_name': 'AMI430InstrumentAdapter_192.168.1.128:7180', 'label': 'ramp_rate',
                              'name': 'ramp_rate', 'unit': 'T/min', 'inter_delay': 0, 'post_delay': 0},
                'setpoint': {'value': 0.0, 'ts': '2019-05-22 14:55:24', 'raw_value': '0.0000000\r\n',
                             '__class__': 'qcodes.instrument.parameter.Parameter',
                             'full_name': 'AMI430InstrumentAdapter_192.168.1.128:7180_setpoint',
                             'instrument': 'qcodes.instrument_drivers.american_magnetics.AMI430.AMI430',
                             'instrument_name': 'AMI430InstrumentAdapter_192.168.1.128:7180', 'label': 'setpoint',
                             'name': 'setpoint', 'unit': 'T', 'inter_delay': 0, 'post_delay': 0},
                'is_quenched': {'value': False, 'ts': '2019-05-22 14:55:25', 'raw_value': '0\r\n',
                                '__class__': 'qcodes.instrument.parameter.Parameter',
                                'full_name': 'AMI430InstrumentAdapter_192.168.1.128:7180_is_quenched',
                                'instrument': 'qcodes.instrument_drivers.american_magnetics.AMI430.AMI430',
                                'instrument_name': 'AMI430InstrumentAdapter_192.168.1.128:7180', 'label': 'is_quenched',
                                'name': 'is_quenched', 'vals': '<Enum: {False, True}>', 'unit': '',
                                'val_mapping': {True: 1, False: 0}, 'inter_delay': 0, 'post_delay': 0},
                'ramping_state': {'value': 'paused', 'ts': '2019-05-22 14:55:25', 'raw_value': '3\r\n',
                                  '__class__': 'qcodes.instrument.parameter.Parameter',
                                  'full_name': 'AMI430InstrumentAdapter_192.168.1.128:7180_ramping_state',
                                  'instrument': 'qcodes.instrument_drivers.american_magnetics.AMI430.AMI430',
                                  'instrument_name': 'AMI430InstrumentAdapter_192.168.1.128:7180',
                                  'label': 'ramping_state',
                                  'name': 'ramping_state',
                                  'vals': "<Enum: {'paused', 'ramping', 'quench detected', 'manual up', 'at zero current', "
                                          "'zeroing current', 'heating switch', 'cooling switch', 'holding', 'manual down'}>",
                                  'unit': '',
                                  'val_mapping': {'ramping': 1, 'holding': 2, 'paused': 3, 'manual up': 4,
                                                  'manual down': 5,
                                                  'zeroing current': 6, 'quench detected': 7, 'at zero current': 8,
                                                  'heating switch': 9, 'cooling switch': 10}, 'inter_delay': 0,
                                  'post_delay': 0}}}

bad_config = {
    'IDN': {'value': {'vendor': 'AMERICAN MAGNETICS INC.', 'model': '430', 'serial': '180046', 'firmware': '2.55'},
            'ts': '2019-05-22 14:55:24',
            'raw_value': {'vendor': 'AMERICAN MAGNETICS INC.', 'model': '430', 'serial': '180046', 'firmware': '2.55'},
            '__class__': 'qcodes.instrument.parameter.Parameter',
            'full_name': 'AMI430InstrumentAdapter_192.168.1.128:7180_IDN',
            'instrument': 'qcodes.instrument_drivers.american_magnetics.AMI430.AMI430',
            'instrument_name': 'AMI430InstrumentAdapter_192.168.1.128:7180', 'label': 'IDN', 'name': 'IDN',
            'vals': '<Anything>', 'unit': '', 'inter_delay': 0, 'post_delay': 0},
    'ramp_rate_units': {'value': 'minutes', 'ts': '2019-05-22 14:55:24', 'raw_value': '1\r\n',
                        '__class__': 'qcodes.instrument.parameter.Parameter',
                        'full_name': 'AMI430InstrumentAdapter_192.168.1.128:7180_ramp_rate_units',
                        'instrument': 'qcodes.instrument_drivers.american_magnetics.AMI430.AMI430',
                        'instrument_name': 'AMI430InstrumentAdapter_192.168.1.128:7180', 'label': 'ramp_rate_units',
                        'name': 'ramp_rate_units', 'vals': "<Enum: {'minutes', 'seconds'}>", 'unit': '',
                        'val_mapping': {'seconds': 0, 'minutes': 1}, 'inter_delay': 0, 'post_delay': 0},
    'field_units': {'value': 'tesla', 'ts': '2019-05-22 14:55:24', 'raw_value': '1\r\n',
                    '__class__': 'qcodes.instrument.parameter.Parameter',
                    'full_name': 'AMI430InstrumentAdapter_192.168.1.128:7180_field_units',
                    'instrument': 'qcodes.instrument_drivers.american_magnetics.AMI430.AMI430',
                    'instrument_name': 'AMI430InstrumentAdapter_192.168.1.128:7180', 'label': 'field_units',
                    'name': 'field_units', 'vals': "<Enum: {'tesla', 'kilogauss'}>", 'unit': '',
                    'val_mapping': {'kilogauss': 0, 'tesla': 1}, 'inter_delay': 0, 'post_delay': 0},
    'current_ramp_limit': {'value': 3.6, 'ts': '2019-05-22 14:55:24', 'raw_value': 0.06,
                           '__class__': 'qcodes.instrument.parameter.Parameter',
                           'full_name': 'AMI430InstrumentAdapter_192.168.1.128:7180_current_ramp_limit',
                           'instrument': 'qcodes.instrument_drivers.american_magnetics.AMI430.AMI430',
                           'instrument_name': 'AMI430InstrumentAdapter_192.168.1.128:7180',
                           'label': 'current_ramp_limit', 'scale': 0.016666666666666666, 'name': 'current_ramp_limit',
                           'unit': 'A/min', 'inter_delay': 0, 'post_delay': 0},
    'field_ramp_limit': {'value': 20, 'ts': '2019-05-22 14:55:24', 'raw_value': 3.6,
                         '__class__': 'qcodes.instrument.parameter.Parameter',
                         'full_name': 'AMI430InstrumentAdapter_192.168.1.128:7180_field_ramp_limit',
                         'instrument': 'qcodes.instrument_drivers.american_magnetics.AMI430.AMI430',
                         'instrument_name': 'AMI430InstrumentAdapter_192.168.1.128:7180', 'label': 'field_ramp_limit',
                         'scale': 24.03383964622188, 'name': 'field_ramp_limit', 'unit': 'T/min', 'inter_delay': 0,
                         'post_delay': 0},
    'coil_constant': {'value': 0.041608, 'ts': '2019-05-22 14:55:24', 'raw_value': 0.041608,
                      '__class__': 'qcodes.instrument.parameter.Parameter',
                      'full_name': 'AMI430InstrumentAdapter_192.168.1.128:7180_coil_constant',
                      'instrument': 'qcodes.instrument_drivers.american_magnetics.AMI430.AMI430',
                      'instrument_name': 'AMI430InstrumentAdapter_192.168.1.128:7180', 'label': 'coil_constant',
                      'name': 'coil_constant', 'vals': '<Numbers 0.001<=v<=999.99999>', 'unit': 'T/A', 'inter_delay': 0,
                      'post_delay': 0},
    'current_limit': {'value': 72.102, 'ts': '2019-05-22 14:55:24', 'raw_value': '72.102\r\n',
                      '__class__': 'qcodes.instrument.parameter.Parameter',
                      'full_name': 'AMI430InstrumentAdapter_192.168.1.128:7180_current_limit',
                      'instrument': 'qcodes.instrument_drivers.american_magnetics.AMI430.AMI430',
                      'instrument_name': 'AMI430InstrumentAdapter_192.168.1.128:7180', 'label': 'current_limit',
                      'name': 'current_limit', 'vals': '<Numbers 0<=v<=80>', 'unit': 'A', 'inter_delay': 0,
                      'post_delay': 0},
    'field_limit': {'value': 3.000020016, 'ts': '2019-05-22 14:55:24', 'raw_value': 72.102,
                    '__class__': 'qcodes.instrument.parameter.Parameter',
                    'full_name': 'AMI430InstrumentAdapter_192.168.1.128:7180_field_limit',
                    'instrument': 'qcodes.instrument_drivers.american_magnetics.AMI430.AMI430',
                    'instrument_name': 'AMI430InstrumentAdapter_192.168.1.128:7180', 'label': 'field_limit',
                    'scale': 24.03383964622188, 'name': 'field_limit', 'unit': 'T', 'inter_delay': 0, 'post_delay': 0},
    'field': {'value': -0.0001205, 'ts': '2019-05-22 14:55:24', 'raw_value': '-0.0001205\r\n',
              '__class__': 'qcodes.instrument.parameter.Parameter',
              'full_name': 'AMI430InstrumentAdapter_192.168.1.128:7180_field',
              'instrument': 'qcodes.instrument_drivers.american_magnetics.AMI430.AMI430',
              'instrument_name': 'AMI430InstrumentAdapter_192.168.1.128:7180', 'label': 'field', 'name': 'field',
              'unit': 'T', 'inter_delay': 0, 'post_delay': 0},
    'ramp_rate': {'value': 0.05, 'ts': '2019-05-22 14:55:24', 'raw_value': 0.05,
                  '__class__': 'qcodes.instrument.parameter.Parameter',
                  'full_name': 'AMI430InstrumentAdapter_192.168.1.128:7180_ramp_rate',
                  'instrument': 'qcodes.instrument_drivers.american_magnetics.AMI430.AMI430',
                  'instrument_name': 'AMI430InstrumentAdapter_192.168.1.128:7180', 'label': 'ramp_rate',
                  'name': 'ramp_rate', 'unit': 'T/min', 'inter_delay': 0, 'post_delay': 0},
    'setpoint': {'value': 0.0, 'ts': '2019-05-22 14:55:24', 'raw_value': '0.0000000\r\n',
                 '__class__': 'qcodes.instrument.parameter.Parameter',
                 'full_name': 'AMI430InstrumentAdapter_192.168.1.128:7180_setpoint',
                 'instrument': 'qcodes.instrument_drivers.american_magnetics.AMI430.AMI430',
                 'instrument_name': 'AMI430InstrumentAdapter_192.168.1.128:7180', 'label': 'setpoint',
                 'name': 'setpoint', 'unit': 'T', 'inter_delay': 0, 'post_delay': 0},
    'is_quenched': {'value': False, 'ts': '2019-05-22 14:55:25', 'raw_value': '0\r\n',
                    '__class__': 'qcodes.instrument.parameter.Parameter',
                    'full_name': 'AMI430InstrumentAdapter_192.168.1.128:7180_is_quenched',
                    'instrument': 'qcodes.instrument_drivers.american_magnetics.AMI430.AMI430',
                    'instrument_name': 'AMI430InstrumentAdapter_192.168.1.128:7180', 'label': 'is_quenched',
                    'name': 'is_quenched', 'vals': '<Enum: {False, True}>', 'unit': '',
                    'val_mapping': {True: 1, False: 0}, 'inter_delay': 0, 'post_delay': 0},
    'ramping_state': {'value': 'paused', 'ts': '2019-05-22 14:55:25', 'raw_value': '3\r\n',
                      '__class__': 'qcodes.instrument.parameter.Parameter',
                      'full_name': 'AMI430InstrumentAdapter_192.168.1.128:7180_ramping_state',
                      'instrument': 'qcodes.instrument_drivers.american_magnetics.AMI430.AMI430',
                      'instrument_name': 'AMI430InstrumentAdapter_192.168.1.128:7180', 'label': 'ramping_state',
                      'name': 'ramping_state',
                      'vals': "<Enum: {'paused', 'ramping', 'quench detected', 'manual up', 'at zero current', "
                              "'zeroing current', 'heating switch', 'cooling switch', 'holding', 'manual down'}>",
                      'unit': '',
                      'val_mapping': {'ramping': 1, 'holding': 2, 'paused': 3, 'manual up': 4, 'manual down': 5,
                                      'zeroing current': 6, 'quench detected': 7, 'at zero current': 8,
                                      'heating switch': 9, 'cooling switch': 10}, 'inter_delay': 0, 'post_delay': 0}}
